<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Wordle Pro Ultimate</title>
<style>
:root {
  --cell-size: 70px;
  --gap: 5px;
}
body {
  font-family: Arial, sans-serif;
  text-align: center;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  transition: background 1s ease;
}
header {
  padding: 20px;
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  font-size: 24px;
  font-weight: bold;
}
header span.animated {
  display: inline-block;
  animation: float 1s infinite alternate;
}
@keyframes float {
  0% {transform: translateY(0px);}
  100% {transform: translateY(-10px);}
}
.grid {
  display: grid;
  grid-gap: var(--gap);
  justify-content: center;
  margin-top: 20px;
}
.row {
  display: grid;
  grid-gap: var(--gap);
  justify-content: center;
}
.cell {
  width: var(--cell-size);
  height: var(--cell-size);
  background: #fff;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size: 28px;
  font-weight: bold;
  border-radius: 10px;
  border: 2px solid #ccc;
  text-transform: uppercase;
  transition: all 0.3s ease;
}
.correct {background: #4caf50; color: #fff; transform: scale(1.2);}
.present {background: #ffeb3b; color:#333; transform: scale(1.1);}
.absent {background: #9e9e9e; color:#fff; transform: scale(1);}
.keyboard {margin-top:20px; display:flex; flex-wrap: wrap; justify-content:center; gap:5px;}
.key {padding:10px 15px; border-radius:5px; background:#ddd; cursor:pointer; user-select:none;}
.key.correct{background:#4caf50; color:#fff;}
.key.present{background:#ffeb3b; color:#333;}
.key.absent{background:#9e9e9e; color:#fff;}
#message {margin-top:10px; font-weight:bold; font-size:18px;}
#scoreboard {margin-top:10px; font-size:16px;}
.confetti-piece {
  position: absolute;
  width: 10px; height: 10px;
  background: red;
  top: 0; left: 50%;
  animation: fall 2s linear forwards;
}
@keyframes fall {
  0% {transform: translateY(0) rotate(0deg);}
  100% {transform: translateY(400px) rotate(720deg);}
}
</style>
</head>
<body>

<header id="title">Wordle Pro Ultimate</header>

<div>
<label for="lang">Language:</label>
<select id="lang" onchange="initGame()">
  <option value="en">English</option>
  <option value="ar">Ø¹Ø±Ø¨ÙŠ</option>
</select>
</div>

<div id="scoreboard">Wins: 0 | Losses: 0</div>
<div class="grid" id="grid"></div>
<input type="text" id="guess" placeholder="Enter word">
<button onclick="submitGuess()">Guess</button>
<p id="message"></p>
<div class="keyboard" id="keyboard"></div>

<audio id="sound-correct" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="sound-present" src="https://actions.google.com/sounds/v1/cartoon/slide_whistle_to_drum_hit.ogg"></audio>
<audio id="sound-absent" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="sound-win" src="https://actions.google.com/sounds/v1/cartoon/concussive_hit_guitar.ogg"></audio>
<audio id="sound-lose" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg"></audio>
<audio id="bgMusic" loop autoplay>
<source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
const WORDS_EN = ["APPLE","BRAVE","CRANE","DREAM","EAGLE","FAITH","GLASS","HOUSE","INPUT","JUICE"];
const WORDS_AR = ["Ø¨ÙŠØª","Ù‚Ù…Ø±","Ù†Ø¬Ù…","Ù‚Ù„Ù…","ÙƒØªØ§Ø¨","Ù…Ø¯Ø±Ø³","Ù…Ø¯ÙŠÙ†Ø©","Ø­Ø¯ÙŠÙ‚Ø©","Ø´Ù…Ø³","Ø·Ø§ÙˆÙ„Ø©"];
let solution, attempts, lang, wins=0, losses=0;

function initGame(){
  lang = document.getElementById('lang').value;
  attempts=0;
  const wordList = (lang==="en")?WORDS_EN:WORDS_AR;
  solution = wordList[Math.floor(Math.random()*wordList.length)];
  document.getElementById("grid").innerHTML="";
  document.getElementById("keyboard").innerHTML="";
  document.getElementById("message").textContent="";
  document.getElementById("guess").disabled=false;
  document.getElementById("title").textContent = solution.length + "-Letter Word Wordle";
  document.body.style.background = randomBackground();
  
  // Create grid
  const grid = document.getElementById("grid");
  grid.style.gridTemplateRows = `repeat(6, var(--cell-size))`;
  for(let i=0;i<6;i++){
    const row = document.createElement("div");
    row.className="row";
    row.style.gridTemplateColumns = `repeat(${solution.length}, var(--cell-size))`;
    for(let j=0;j<solution.length;j++){
      const cell = document.createElement("div");
      cell.className="cell";
      row.appendChild(cell);
    }
    grid.appendChild(row);
  }
  
  createKeyboard();
}

function randomBackground(){
  const colors = [
    "linear-gradient(to right, #ff9a9e, #fad0c4)",
    "linear-gradient(to right, #a1c4fd, #c2e9fb)",
    "linear-gradient(to right, #fbc2eb, #a6c1ee)",
    "linear-gradient(to right, #fccb90, #d57eeb)",
    "linear-gradient(to right, #e0c3fc, #8ec5fc)"
  ];
  return colors[Math.floor(Math.random()*colors.length)];
}

function playSound(type){
  switch(type){
    case 'correct': document.getElementById('sound-correct').play(); break;
    case 'present': document.getElementById('sound-present').play(); break;
    case 'absent': document.getElementById('sound-absent').play(); break;
    case 'win': document.getElementById('sound-win').play(); break;
    case 'lose': document.getElementById('sound-lose').play(); break;
  }
}

function createKeyboard(){
  const kb = document.getElementById("keyboard");
  const letters = (lang==="en")?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""):solution.split("");
  letters.forEach(l=>{
    const key = document.createElement("div");
    key.className="key";
    key.textContent=l;
    kb.appendChild(key);
  });
}

function submitGuess(){
  let guessInput=document.getElementById("guess");
  let guess=guessInput.value;
  if(lang==="en") guess=guess.toUpperCase();
  if(guess.length!==solution.length){alert("Enter "+solution.length+" letters!"); return;}
  
  let row=document.getElementById("grid").children[attempts];
  for(let i=0;i<solution.length;i++){
    const cell=row.children[i];
    cell.textContent=guess[i];
    let keyEl = [...document.getElementsByClassName("key")].find(k=>k.textContent===guess[i]);
    if(guess[i]===solution[i]){ 
      cell.className="cell correct"; 
      keyEl?.classList.add("correct");
      playSound('correct');
    }
    else if(solution.includes(guess[i])){ 
      cell.className="cell present"; 
      keyEl?.classList.add("present");
      playSound('present');
    }
    else { 
      cell.className="cell absent"; 
      keyEl?.classList.add("absent");
      playSound('absent');
    }
  }
  attempts++;
  document.body.style.background=randomBackground();
  guessInput.value="";
  
  if(guess===solution){
    document.getElementById("message").textContent="ðŸŽ‰ You Win!";
    document.getElementById("guess").disabled=true;
    wins++;
    updateScore();
    playSound('win');
    confetti();
  } else if(attempts>=6){
    document.getElementById("message").textContent="Game Over! Word was "+solution;
    document.getElementById("guess").disabled=true;
    losses++;
    updateScore();
    playSound('lose');
  }
}

function updateScore(){
  document.getElementById("scoreboard").textContent = `Wins: ${wins} | Losses: ${losses}`;
}

function confetti(){
  for(let i=0;i<50;i++){
    const conf = document.createElement("div");
    conf.className="confetti-piece";
    conf.style.left = Math.random()*window.innerWidth+"px";
    conf.style.background = `hsl(${Math.random()*360}, 100%, 50%)`;
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(), 3000);
  }
}

// Title animation
setInterval(()=>{
  const title = document.getElementById("title");
  title.innerHTML = Array.from(title.textContent).map(c=>`<span class="animated">${c}</span>`).join("");
},2000);

initGame();
</script>
</body>
</html>
